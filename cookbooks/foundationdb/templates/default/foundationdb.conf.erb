## foundationdb.conf
##
## Configuration file for FoundationDB server processes
## Full documentation is available at
## https://foundationdb.com/documentation/configuration.html#foundationdb-conf
##
## Generated by Chef for <%= node[:fqdn] %>

[fdbmonitor]
user = foundationdb
group = foundationdb

[general]
restart_delay = 60
cluster_file = /etc/foundationdb/fdb.cluster

## Default parameters for individual fdbserver processes
[fdbserver]
command = /usr/sbin/fdbserver
public_address = auto:$ID
listen_address = public
datadir = <%= node['foundationdb']['data_path'] %>/$ID
logdir = <%= node['foundationdb']['log_path'] %>
# logsize = 10MiB
# maxlogssize = 100MiB
# machine_id =
# datacenter_id =
# class =
# memory = 8GiB
# storage_memory = 1GiB

## An individual fdbserver process with id 4500
## Parameters set here override defaults from the [fdbserver] section
<% for process_port in node['foundationdb']['port']..(node['foundationdb']['port'] + node['foundationdb']['process_count'] - 1) %>
   [fdbserver.<%= process_port %>]
<% end %>



[backup_agent]
command = /usr/lib/foundationdb/backup_agent/backup_agent

[backup_agent.1]